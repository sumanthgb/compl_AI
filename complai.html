<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Compl.ai</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Mono:wght@300;400;500&family=Instrument+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #f7f5f0;
  --surface: #ffffff;
  --surface-2: #f0ede6;
  --border: #e2ddd5;
  --text: #1a1714;
  --text-2: #6b6560;
  --text-3: #a09890;
  --accent: #1a3a2a;
  --accent-mid: #2d5a42;
  --accent-light: #4a8a62;
  --accent-glow: rgba(26,58,42,0.07);
  --red: #c0392b;
  --red-bg: #fdf0ee;
  --yellow: #9a6b10;
  --yellow-bg: #fef9ee;
  --green: #276749;
  --green-bg: #eef7f1;
  --serif: 'DM Serif Display', Georgia, serif;
  --mono: 'DM Mono', monospace;
  --sans: 'Instrument Sans', system-ui, sans-serif;
  --radius: 14px;
  --shadow: 0 2px 16px rgba(26,58,42,0.07);
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; overflow: hidden; }
body { font-family: var(--sans); background: var(--bg); color: var(--text); }

/* NAV */
nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 200;
  height: 52px; display: flex; align-items: center; justify-content: space-between;
  padding: 0 2rem;
  background: rgba(247,245,240,0.96); backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
}
.logo { font-family: var(--mono); font-size: 0.9rem; font-weight: 500; color: var(--accent); letter-spacing: -0.02em; }
.logo span { color: var(--text-3); }
.nav-pill { font-family: var(--mono); font-size: 0.6rem; color: var(--text-3); padding: 0.25rem 0.75rem; border: 1px solid var(--border); border-radius: 100px; }

/* PAGES */
.page { display: none; position: fixed; inset: 52px 0 0 0; overflow: hidden; }
.page.active { display: flex; }

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   INTRO SLIDE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#intro {
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: var(--bg);
  overflow: hidden;
}

.intro-inner {
  width: 100%; max-width: 640px;
  padding: 2rem 2rem;
  display: flex; flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 0;
}

/* Animated stat numbers */
.intro-stats {
  display: flex; gap: 3rem; justify-content: center;
  margin-bottom: 3rem;
}
.intro-stat { display: flex; flex-direction: column; align-items: center; gap: 0.25rem; }
.intro-stat-num {
  font-family: var(--serif); font-size: 3.2rem; color: var(--accent);
  line-height: 1;
  opacity: 0; animation: fadeUp 0.6s ease forwards;
}
.intro-stat-num:nth-child(1) { animation-delay: 0.1s; }
.intro-stat-label {
  font-family: var(--mono); font-size: 0.62rem; color: var(--text-3);
  text-transform: uppercase; letter-spacing: 0.1em;
  opacity: 0; animation: fadeUp 0.6s ease forwards 0.25s;
}

.intro-divider {
  width: 1px; height: 48px;
  background: var(--border);
  margin: 0;
  align-self: center;
}

/* Main statement */
.intro-statement {
  margin-bottom: 2rem;
}
.intro-statement p {
  font-family: var(--serif); font-size: clamp(1.5rem, 3.2vw, 2.1rem);
  line-height: 1.25; color: var(--text);
  opacity: 0; animation: fadeUp 0.65s ease forwards 0.35s;
}
.intro-statement p em { font-style: italic; color: var(--accent); }
.intro-statement p + p {
  margin-top: 0.875rem; font-family: var(--sans);
  font-size: 0.95rem; line-height: 1.65; color: var(--text-2);
  font-family: var(--sans);
  opacity: 0; animation: fadeUp 0.65s ease forwards 0.55s;
}

.intro-cta {
  display: flex; flex-direction: column; align-items: center; gap: 0.75rem;
  opacity: 0; animation: fadeUp 0.65s ease forwards 0.75s;
}

.btn-start {
  display: inline-flex; align-items: center; gap: 0.625rem;
  padding: 0.875rem 2.25rem;
  background: var(--accent); color: white;
  border: none; border-radius: 100px;
  font-family: var(--sans); font-size: 0.9rem; font-weight: 600;
  cursor: pointer; transition: all 0.2s;
  letter-spacing: 0.01em;
}
.btn-start:hover { background: var(--accent-mid); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(26,58,42,0.2); }
.btn-start svg { width: 14px; height: 14px; }

.intro-skip {
  font-family: var(--mono); font-size: 0.65rem; color: var(--text-3);
  cursor: pointer; transition: color 0.14s;
}
.intro-skip:hover { color: var(--accent); }

/* little path illustration */
.intro-path-visual {
  margin-bottom: 2.5rem;
  opacity: 0; animation: fadeUp 0.6s ease forwards 0.1s;
  display: flex; align-items: center; justify-content: center;
  gap: 0;
}
.path-step {
  display: flex; flex-direction: column; align-items: center; gap: 0.4rem;
}
.path-dot {
  width: 10px; height: 10px; border-radius: 50%;
  border: 2px solid var(--accent-light); background: var(--bg);
}
.path-dot.filled { background: var(--accent); border-color: var(--accent); }
.path-step-label {
  font-family: var(--mono); font-size: 0.58rem; color: var(--text-3);
  text-transform: uppercase; letter-spacing: 0.06em; white-space: nowrap;
}
.path-connector {
  width: 48px; height: 1px;
  background-image: repeating-linear-gradient(
    to right, var(--accent-light) 0px, var(--accent-light) 4px,
    transparent 4px, transparent 8px
  );
  opacity: 0.4; margin-bottom: 1.1rem;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   LANDING (chat)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#landing {
  align-items: center; justify-content: center;
  background: var(--bg); overflow-y: auto; flex-direction: column;
}
.land-wrap {
  width: 100%; max-width: 520px;
  padding: 2.5rem 1.5rem 5rem;
  display: flex; flex-direction: column; gap: 1.5rem;
}
.land-hero { text-align: center; }
.land-eye {
  font-family: var(--mono); font-size: 0.62rem;
  letter-spacing: 0.16em; text-transform: uppercase;
  color: var(--accent-light); margin-bottom: 0.875rem;
}
.land-hero h1 {
  font-family: var(--serif); font-size: clamp(1.85rem, 4.5vw, 2.6rem);
  line-height: 1.1; margin-bottom: 0.625rem;
}
.land-hero h1 em { font-style: italic; color: var(--accent); }
.land-hero p { font-size: 0.875rem; color: var(--text-2); line-height: 1.65; }

/* Chat */
.chat-wrap {
  background: var(--surface); border: 1.5px solid var(--border);
  border-radius: var(--radius); box-shadow: var(--shadow); overflow: hidden;
}
.chat-msgs {
  padding: 1.125rem; min-height: 100px; max-height: 280px;
  overflow-y: auto; display: flex; flex-direction: column; gap: 0.75rem;
}
.msg { display: flex; gap: 0.5rem; animation: msgIn 0.22s ease; }
.msg.user { flex-direction: row-reverse; }
.msg-av {
  width: 26px; height: 26px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-family: var(--mono); font-size: 0.6rem; font-weight: 500; flex-shrink: 0;
}
.msg.ai .msg-av { background: var(--accent); color: white; }
.msg.user .msg-av { background: var(--surface-2); color: var(--text-2); border: 1px solid var(--border); }
.msg-bub {
  max-width: 86%; padding: 0.6rem 0.875rem;
  border-radius: 11px; font-size: 0.845rem; line-height: 1.55;
}
.msg.ai .msg-bub { background: var(--surface-2); color: var(--text); border-radius: 4px 11px 11px 11px; }
.msg.user .msg-bub { background: var(--accent); color: white; border-radius: 11px 4px 11px 11px; }
.typing .msg-bub {
  background: var(--surface-2); color: var(--text-3);
  display: flex; align-items: center; gap: 3px;
}
.tdot {
  width: 5px; height: 5px; border-radius: 50%; background: var(--text-3);
  animation: tdot 1.2s ease infinite;
}
.tdot:nth-child(2) { animation-delay: 0.18s; }
.tdot:nth-child(3) { animation-delay: 0.36s; }

.quick-opts {
  padding: 0.25rem 1.125rem 0.875rem;
  display: flex; flex-wrap: wrap; gap: 0.375rem;
}
.qopt {
  padding: 0.3rem 0.7rem; border: 1.5px solid var(--border);
  border-radius: 100px; font-size: 0.73rem; color: var(--text-2);
  cursor: pointer; background: var(--surface); transition: all 0.14s; font-family: var(--sans);
}
.qopt:hover { border-color: var(--accent); color: var(--accent); background: var(--accent-glow); }

.chat-input-row {
  border-top: 1px solid var(--border);
  padding: 0.75rem 1rem; display: flex; gap: 0.5rem; align-items: flex-end;
}
.chat-input-row textarea {
  flex: 1; border: none; outline: none;
  font-family: var(--sans); font-size: 0.875rem; color: var(--text);
  background: transparent; resize: none; line-height: 1.5; max-height: 90px; min-height: 22px;
}
.chat-input-row textarea::placeholder { color: var(--text-3); }
.send-btn {
  width: 32px; height: 32px; border-radius: 50%;
  background: var(--accent); border: none; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  color: white; flex-shrink: 0; transition: all 0.15s;
}
.send-btn:hover { background: var(--accent-mid); transform: scale(1.06); }
.send-btn svg { width: 13px; height: 13px; }

.demo-hint {
  text-align: center; font-family: var(--mono); font-size: 0.68rem;
  color: var(--text-3); cursor: pointer; transition: color 0.14s;
}
.demo-hint:hover { color: var(--accent); }

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   RESULTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#results { flex-direction: row; }

.road-sidebar {
  width: 300px; flex-shrink: 0;
  background: var(--surface);
  border-right: 1px solid var(--border);
  display: flex; flex-direction: column; overflow: hidden;
}
.road-top {
  padding: 1.25rem 1.25rem 1rem;
  border-bottom: 1px solid var(--border); flex-shrink: 0;
}
.road-top-row {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.875rem;
}
.road-label {
  font-family: var(--mono); font-size: 0.6rem;
  letter-spacing: 0.12em; text-transform: uppercase; color: var(--text-3);
}
.btn-back {
  font-family: var(--mono); font-size: 0.62rem; color: var(--text-3);
  background: transparent; border: 1px solid var(--border);
  border-radius: 6px; padding: 0.28rem 0.6rem; cursor: pointer; transition: all 0.14s;
}
.btn-back:hover { border-color: var(--accent); color: var(--accent); }
.road-stats { display: flex; gap: 0.625rem; }
.road-stat {
  flex: 1; background: var(--bg); border-radius: 9px;
  padding: 0.6rem 0.75rem; border: 1px solid var(--border);
}
.road-stat-val {
  font-family: var(--serif); font-size: 1rem; color: var(--accent); line-height: 1; margin-bottom: 0.2rem;
}
.road-stat-label {
  font-family: var(--mono); font-size: 0.58rem; color: var(--text-3);
  text-transform: uppercase; letter-spacing: 0.06em;
}

.road-scroll { flex: 1; overflow-y: auto; padding: 1.25rem 1.25rem 2rem; }
.node-list { display: flex; flex-direction: column; }

.node-row {
  display: flex; gap: 0.75rem; align-items: flex-start;
  cursor: pointer; padding: 0.25rem; border-radius: 8px; transition: background 0.14s;
}
.node-row:hover { background: var(--accent-glow); }
.node-row.selected { background: var(--accent-glow); }
.node-spine {
  display: flex; flex-direction: column; align-items: center;
  flex-shrink: 0; width: 16px; padding-top: 4px;
}
.node-dot {
  width: 12px; height: 12px; border-radius: 50%;
  border: 2px solid var(--border); background: var(--bg);
  flex-shrink: 0; transition: all 0.2s; position: relative; z-index: 2;
}
.node-row.selected .node-dot,
.node-row:hover .node-dot { border-color: var(--accent); background: var(--accent); }
.node-dot.on-crit { border-color: var(--accent-light); }
.node-row.selected .node-dot.on-crit,
.node-row:hover .node-dot.on-crit { background: var(--accent); border-color: var(--accent); }
.node-line {
  width: 1px; flex: 1; min-height: 20px;
  background-image: repeating-linear-gradient(
    to bottom, var(--accent-light) 0px, var(--accent-light) 3px,
    transparent 3px, transparent 7px
  );
  margin-top: 2px; opacity: 0.3;
}
.node-row:last-child .node-line { display: none; }
.node-body { padding-bottom: 0.875rem; flex: 1; min-width: 0; }
.node-name { font-size: 0.775rem; font-weight: 500; color: var(--text); line-height: 1.35; margin-bottom: 0.25rem; }
.node-meta { display: flex; flex-wrap: wrap; gap: 0.3rem; align-items: center; }
.node-wks { font-family: var(--mono); font-size: 0.62rem; color: var(--text-3); }
.ntag { font-family: var(--mono); font-size: 0.58rem; padding: 0.1rem 0.35rem; border-radius: 4px; }
.ntag-w { background: var(--green-bg); color: var(--green); }
.ntag-c { background: rgba(26,58,42,0.08); color: var(--accent); }

.detail-pane {
  flex: 1; overflow-y: auto; background: var(--bg); display: flex; flex-direction: column;
}
.detail-inner {
  flex: 1; padding: 1.75rem 2rem;
  display: flex; flex-direction: column; gap: 1.125rem; max-width: 720px;
}

.class-strip {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 1.125rem 1.375rem;
  display: flex; align-items: center; gap: 1.25rem; flex-wrap: wrap;
}
.class-left { flex: 1; min-width: 180px; }
.class-center-txt { font-family: var(--serif); font-size: 1.45rem; color: var(--accent); line-height: 1; margin-bottom: 0.2rem; }
.class-pathway { font-family: var(--mono); font-size: 0.7rem; color: var(--text-2); margin-bottom: 0.5rem; }
.conf-row { display: flex; align-items: center; gap: 0.5rem; }
.conf-label { font-family: var(--mono); font-size: 0.62rem; color: var(--text-3); }
.conf-track { width: 64px; height: 3px; background: var(--border); border-radius: 2px; overflow: hidden; }
.conf-fill { height: 100%; background: var(--accent); border-radius: 2px; transition: width 1.2s ease; }
.conf-pct { font-family: var(--mono); font-size: 0.62rem; color: var(--accent); }
.class-badges { display: flex; gap: 0.4rem; flex-wrap: wrap; align-items: center; }
.badge {
  display: inline-flex; align-items: center; gap: 0.25rem;
  padding: 0.28rem 0.65rem; border-radius: 100px;
  font-family: var(--mono); font-size: 0.65rem; font-weight: 500;
}
.b-dark { background: var(--accent); color: white; }
.b-out { border: 1.5px solid var(--border); color: var(--text-2); background: var(--surface); }
.b-red { background: var(--red-bg); color: var(--red); }
.b-yellow { background: var(--yellow-bg); color: var(--yellow); }
.b-green { background: var(--green-bg); color: var(--green); }

.sec-label {
  font-family: var(--mono); font-size: 0.6rem;
  letter-spacing: 0.12em; text-transform: uppercase; color: var(--text-3); margin-bottom: 0.5rem;
}
.node-detail-card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 1.125rem 1.375rem; transition: all 0.2s;
}
.nd-name { font-size: 0.9rem; font-weight: 600; margin-bottom: 0.2rem; }
.nd-std { font-family: var(--mono); font-size: 0.62rem; color: var(--text-3); margin-bottom: 0.75rem; }
.nd-desc { font-size: 0.8rem; color: var(--text-2); line-height: 1.65; }
.nd-meta { display: flex; gap: 0.4rem; flex-wrap: wrap; margin-top: 0.75rem; }
.nd-note { margin-top: 0.75rem; font-family: var(--mono); font-size: 0.65rem; color: var(--text-3); line-height: 1.55; padding-top: 0.625rem; border-top: 1px solid var(--border); }

.flag-card { border-radius: 12px; padding: 1rem 1.25rem; display: flex; gap: 0.75rem; }
.flag-crit { background: #fff6f5; border: 1.5px solid #e8b0a0; }
.flag-icon { font-size: 1rem; flex-shrink: 0; margin-top: 2px; }
.flag-title { font-weight: 600; font-size: 0.845rem; margin-bottom: 0.25rem; }
.flag-body { font-size: 0.785rem; color: var(--text-2); line-height: 1.6; }
.flag-save { margin-top: 0.5rem; font-family: var(--mono); font-size: 0.68rem; color: var(--green); font-weight: 500; }

.opt-card { background: var(--green-bg); border: 1.5px solid rgba(39,103,73,0.18); border-radius: 12px; padding: 1rem 1.25rem; }
.opt-head { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.625rem; }
.opt-title { font-weight: 600; font-size: 0.845rem; }
.opt-swap { display: flex; align-items: center; gap: 0.4rem; margin-bottom: 0.5rem; }
.mpill { padding: 0.18rem 0.45rem; border-radius: 5px; font-family: var(--mono); font-size: 0.68rem; }
.mp-old { background: var(--red-bg); color: var(--red); }
.mp-new { background: rgba(39,103,73,0.12); color: var(--green); }
.opt-pills { display: flex; gap: 0.4rem; flex-wrap: wrap; margin-bottom: 0.5rem; }
.opt-pill { padding: 0.22rem 0.625rem; background: white; border-radius: 100px; font-family: var(--mono); font-size: 0.65rem; color: var(--green); border: 1px solid rgba(39,103,73,0.15); }
.opt-rat { font-size: 0.775rem; color: var(--text-2); line-height: 1.6; }

.ip-sum { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 0.875rem 1.125rem; font-size: 0.8rem; color: var(--text-2); line-height: 1.65; border-left: 3px solid #c9960a; }
.patent-list { display: flex; flex-direction: column; gap: 0.4rem; }
.pat-card { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 0.8rem 1rem; }
.pat-top { display: flex; gap: 0.5rem; align-items: flex-start; margin-bottom: 0.3rem; }
.pdot { width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0; margin-top: 5px; }
.pdot-red { background: var(--red); }
.pdot-yellow { background: #c9960a; }
.pdot-green { background: var(--green); }
.pat-title { font-size: 0.785rem; font-weight: 600; color: var(--text); line-height: 1.3; }
.pat-sub { font-family: var(--mono); font-size: 0.62rem; color: var(--text-3); margin-bottom: 0.3rem; display: flex; gap: 0.4rem; }
.pat-exp { font-size: 0.77rem; color: var(--text-2); line-height: 1.55; }
.rationale-card { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 0.875rem 1.125rem; font-size: 0.8rem; color: var(--text-2); line-height: 1.65; border-left: 3px solid var(--accent); }

.disclaimer { padding: 1rem 2rem; font-family: var(--mono); font-size: 0.59rem; color: var(--text-3); border-top: 1px solid var(--border); text-align: center; line-height: 1.7; }

/* Animations */
@keyframes msgIn { from { opacity:0; transform:translateY(7px); } to { opacity:1; transform:none; } }
@keyframes tdot { 0%,60%,100% { transform:translateY(0); } 30% { transform:translateY(-4px); } }
@keyframes fadeUp { from { opacity:0; transform:translateY(12px); } to { opacity:1; transform:none; } }
@keyframes spin { to { transform:rotate(360deg); } }
@keyframes slideOut { from { opacity:1; transform:translateY(0); } to { opacity:0; transform:translateY(-16px); } }
@keyframes slideIn { from { opacity:0; transform:translateY(16px); } to { opacity:1; transform:none; } }

.land-wrap > * { opacity:0; animation: fadeUp 0.45s ease forwards; }
.land-wrap > *:nth-child(1) { animation-delay: 0.05s; }
.land-wrap > *:nth-child(2) { animation-delay: 0.15s; }
.land-wrap > *:nth-child(3) { animation-delay: 0.25s; }

::-webkit-scrollbar { width: 3px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
</style>
</head>
<body>

<nav>
  <div class="logo">compl<span>.ai</span></div>
  <div class="nav-pill">Not legal or regulatory advice</div>
</nav>

<!-- INTRO SLIDE -->
<div id="intro" class="page active">
  <div class="intro-inner">

    <!-- Mini path visual -->
    <div class="intro-path-visual">
      <div class="path-step">
        <div class="path-dot filled"></div>
        <div class="path-step-label">Idea</div>
      </div>
      <div class="path-connector"></div>
      <div class="path-step">
        <div class="path-dot filled"></div>
        <div class="path-step-label">Classify</div>
      </div>
      <div class="path-connector"></div>
      <div class="path-step">
        <div class="path-dot filled"></div>
        <div class="path-step-label">Roadmap</div>
      </div>
      <div class="path-connector"></div>
      <div class="path-step">
        <div class="path-dot"></div>
        <div class="path-step-label">Patient</div>
      </div>
    </div>

    <!-- Stats -->
    <div class="intro-stats">
      <div class="intro-stat">
        <div class="intro-stat-num" style="animation-delay:0.15s">$522M</div>
        <div class="intro-stat-label">avg. cost to bring a<br>complex device to market</div>
      </div>
      <div class="intro-divider"></div>
      <div class="intro-stat">
        <div class="intro-stat-num" style="animation-delay:0.25s">3‚Äì7 yrs</div>
        <div class="intro-stat-label">concept to market<br>for medical devices</div>
      </div>
      <div class="intro-divider"></div>
      <div class="intro-stat">
        <div class="intro-stat-num" style="animation-delay:0.35s">90%</div>
        <div class="intro-stat-label">of biotech startups<br>never reach patients</div>
      </div>
    </div>

    <!-- Statement -->
    <div class="intro-statement">
      <p>Most breakthroughs don't fail in the lab.<br>They fail <em>between</em> the lab and the clinic.</p>
      <p>Regulatory walls, invisible patent conflicts, and testing requirements nobody told you about ‚Äî these are the quiet reasons brilliant science never reaches a patient. We built the map that should have existed.</p>
    </div>

    <!-- CTA -->
    <div class="intro-cta">
      <button class="btn-start" onclick="goToLanding()">
        Map my path
        <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 8h10M9 4l4 4-4 4"/>
        </svg>
      </button>
      <div class="intro-skip" onclick="runDemo()">Skip to demo ‚Üí</div>
    </div>

  </div>
</div>

<!-- LANDING (chat) -->
<div id="landing" class="page">
  <div class="land-wrap">
    <div class="land-hero">
      <div class="land-eye">Regulatory & IP Navigator</div>
      <h1>Your path from <em>lab</em><br>to <em>clinic</em>, mapped.</h1>
      <p>Describe what you're building ‚Äî in plain English. We'll handle the classification, testing roadmap, and IP landscape.</p>
    </div>

    <div class="chat-wrap">
      <div class="chat-msgs" id="chatMsgs">
        <div class="msg ai">
          <div class="msg-av">c.</div>
          <div class="msg-bub">Hi! Tell me about what you're building ‚Äî even a sentence or two is enough. What does it do?</div>
        </div>
      </div>
      <div class="quick-opts" id="quickOpts">
        <div class="qopt" onclick="quickSend('A cortical organoid scaffold for traumatic brain injury repair')">Organoid scaffold</div>
        <div class="qopt" onclick="quickSend('A wearable continuous glucose monitor')">Glucose monitor</div>
        <div class="qopt" onclick="quickSend('A lateral flow assay for early cancer detection')">Diagnostic assay</div>
        <div class="qopt" onclick="runDemo()">Load demo ‚Üí</div>
      </div>
      <div class="chat-input-row">
        <textarea id="chatIn" rows="1" placeholder="Describe what you're building‚Ä¶"
          onkeydown="handleKey(event)" oninput="autoResize(this)"></textarea>
        <button class="send-btn" onclick="sendMsg()">
          <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2L2 8l4 2 2 6 6-14z"/>
          </svg>
        </button>
      </div>
    </div>

    <div class="demo-hint" onclick="runDemo()">Skip to demo scenario ‚Üí</div>
  </div>
</div>

<!-- RESULTS -->
<div id="results" class="page">
  <div class="road-sidebar">
    <div class="road-top">
      <div class="road-top-row">
        <div class="road-label">Testing roadmap</div>
        <button class="btn-back" onclick="goBack()">‚Üê new</button>
      </div>
      <div class="road-stats">
        <div class="road-stat">
          <div class="road-stat-val" id="statCost">‚Äî</div>
          <div class="road-stat-label">Est. cost</div>
        </div>
        <div class="road-stat">
          <div class="road-stat-val" id="statWeeks">‚Äî</div>
          <div class="road-stat-label">Weeks</div>
        </div>
      </div>
    </div>
    <div class="road-scroll">
      <div class="node-list" id="nodeList"></div>
    </div>
  </div>

  <div class="detail-pane">
    <div class="detail-inner" id="detailInner"></div>
    <div class="disclaimer">
      compl.ai provides directional guidance only ‚Äî not legal, regulatory, or IP advice.<br>
      Consult a regulatory affairs specialist and registered patent attorney before making decisions.<br>
      Cost and timeline estimates are directional ranges based on published CRO pricing and FDA submission data.
    </div>
  </div>
</div>

<script>
const S = { msgs:[], ctx:{}, turns:0, result:null, apiBase:'https://complai-bnjl.onrender.com' };

const FOLLOWUPS = {
  needs_loc: {
    q: 'One quick thing ‚Äî does your diagnostic interact with the body directly, or does the test happen on a sample outside the body?',
    opts: ['Contacts the body directly', 'Sample outside the body (lab test / strip)'],
  },
  needs_driver: {
    q: 'For combination products, what primarily drives the therapeutic effect?',
    opts: ['The biological / cellular component', 'The physical device component', 'A drug / chemical component'],
  },
};

function getFollowup(ctx) {
  if (ctx.is_diag && !ctx.diag_type) return 'needs_loc';
  if (ctx.is_combo && !ctx.combo_driver) return 'needs_driver';
  return null;
}

function parseCtx(text) {
  const t = text.toLowerCase();
  const c = { ...S.ctx };
  if (/\b(cell|organoid|stem cell|gene edit|crispr|tissue engineer|living cell|neural cell|cortical|biological graft)\b/.test(t)) c.has_cells = true;
  if (/\b(device|implant|sensor|wearable|scaffold|stent|screw|catheter|electrode|instrument)\b/.test(t)) c.has_device = true;
  if (/\b(diagnos|detect|measur|assay|biosensor|screen|identif|monitor)\b/.test(t)) c.is_diag = true;
  if (/\b(drug|elut|coat|pharma|chemical agent)\b/.test(t)) c.has_drug = true;
  if (c.has_cells && c.has_device) c.is_combo = true;
  if (c.has_device && c.has_drug) c.is_combo = true;
  const mats = t.match(/\b(plga|pdms|alginate|titanium|peek|nitinol|polyurethane|silicone|hydrogel|peg|pcl|pla|ptfe|cobalt|chrome|stainless steel)\b/g);
  if (mats) c.materials = [...new Set([...(c.materials||[]), ...mats])];
  if (/contacts the body|in.?vivo|body directly/.test(t)) c.diag_type = 'in_vivo';
  if (/sample|outside|ivd|in.?vitro|strip|lab test/.test(t)) c.diag_type = 'in_vitro';
  if (/biological|cellular/.test(t) && c.is_combo) c.combo_driver = 'biology';
  if (/physical|device|mechanical/.test(t) && c.is_combo) c.combo_driver = 'device';
  if (/drug|chemical/.test(t) && c.is_combo) c.combo_driver = 'drug';
  c.ready = c.has_cells || c.has_device || c.is_diag;
  return c;
}

function buildDesc() {
  const userText = S.msgs.filter(m=>m.role==='user').map(m=>m.content).join(' ');
  let d = userText + ' ';
  const c = S.ctx;
  if (c.is_combo) d += 'This is a combination product. ';
  if (c.diag_type==='in_vitro') d += 'In vitro diagnostic. ';
  if (c.diag_type==='in_vivo') d += 'In vivo diagnostic ‚Äî device contacts body. ';
  if (c.combo_driver) d += `Primary mode of action: ${c.combo_driver}. `;
  if (c.materials?.length) d += `Materials: ${c.materials.join(', ')}. `;
  return d.trim();
}

async function sendMsg() {
  const el = document.getElementById('chatIn');
  const text = el.value.trim();
  if (!text) return;
  el.value = ''; autoResize(el);
  addMsg('user', text);
  S.msgs.push({role:'user', content:text});
  S.turns++;
  S.ctx = parseCtx(text);
  document.getElementById('quickOpts').innerHTML = '';
  showTyping();
  await wait(650);
  const fu = getFollowup(S.ctx);
  if (S.ctx.ready && !fu) {
    aiReply('Got it ‚Äî that\'s enough to map your path. Running analysis now‚Ä¶');
    await wait(350);
    runAnalysis();
  } else if (fu) {
    const q = FOLLOWUPS[fu];
    aiReply(q.q, q.opts);
  } else if (S.turns === 1) {
    aiReply('Thanks! Is this primarily for treating or repairing something, detecting something, or both?',
      ['Treating or repairing', 'Detecting or measuring', 'Both']);
  } else {
    aiReply('Could you tell me a bit more about the materials or how it interacts with the body?');
  }
}

function addMsg(role, text) {
  const el = document.getElementById('chatMsgs');
  const div = document.createElement('div');
  div.className = `msg ${role}`;
  div.innerHTML = `<div class="msg-av">${role==='ai'?'c.':'you'}</div><div class="msg-bub">${text}</div>`;
  el.appendChild(div); el.scrollTop = el.scrollHeight;
}

function showTyping() {
  const el = document.getElementById('chatMsgs');
  const div = document.createElement('div');
  div.className = 'msg ai typing'; div.id = 'typingEl';
  div.innerHTML = `<div class="msg-av">c.</div><div class="msg-bub"><div class="tdot"></div><div class="tdot"></div><div class="tdot"></div></div>`;
  el.appendChild(div); el.scrollTop = el.scrollHeight;
}

function aiReply(text, opts) {
  const t = document.getElementById('typingEl');
  if (t) t.remove();
  addMsg('ai', text);
  const qo = document.getElementById('quickOpts');
  qo.innerHTML = '';
  if (opts) opts.forEach(o => {
    const d = document.createElement('div');
    d.className = 'qopt'; d.textContent = o;
    d.onclick = () => quickSend(o);
    qo.appendChild(d);
  });
}

function quickSend(text) { document.getElementById('chatIn').value = text; sendMsg(); }
function handleKey(e) { if (e.key==='Enter' && !e.shiftKey) { e.preventDefault(); sendMsg(); } }
function autoResize(el) { el.style.height='auto'; el.style.height=Math.min(el.scrollHeight,90)+'px'; }

function goToLanding() { showPage('landing'); }

function runDemo() {
  showPage('landing');
  setTimeout(() => {
    const text = 'We\'re developing a biodegradable PLGA polymer scaffold seeded with cortical organoids for traumatic brain injury repair. The organoids provide the primary therapeutic effect by integrating with host neural tissue. We\'re using GMP-grade alginate for organoid encapsulation. This is a long-term neural implant.';
    addMsg('user', text);
    S.msgs.push({role:'user', content:text});
    S.ctx = parseCtx(text);
    S.ctx.is_combo = true; S.ctx.combo_driver = 'biology';
    document.getElementById('quickOpts').innerHTML = '';
    showTyping();
    setTimeout(() => {
      aiReply('Got it ‚Äî combination product, biology-driven. Mapping your path now‚Ä¶');
      setTimeout(runAnalysis, 500);
    }, 800);
  }, 100);
}

async function runAnalysis() {
  showPage('results');
  document.getElementById('nodeList').innerHTML = `
    <div style="padding:2rem 0;text-align:center;color:var(--text-3);font-family:var(--mono);font-size:0.72rem">
      <div style="width:28px;height:28px;border:2px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin 0.85s linear infinite;margin:0 auto 0.875rem"></div>
      Mapping‚Ä¶
    </div>`;
  document.getElementById('detailInner').innerHTML = `<div style="color:var(--text-3);font-size:0.82rem;padding:1rem 0">Analyzing‚Ä¶</div>`;
  try {
    const res = await fetch(`${S.apiBase}/analyze`, {
      method:'POST', headers:{'Content-Type':'application/json'},
      body: JSON.stringify({description:buildDesc(), run_ip_radar:true, run_materials_optimization:true}),
    });
    if (!res.ok) throw new Error();
    S.result = await res.json();
  } catch(err) {
    document.getElementById('nodeList').innerHTML = `<div style="padding:2rem;text-align:center;font-family:var(--mono);font-size:0.72rem;color:var(--red)">Backend unreachable. Check that the server is running.</div>`;
    document.getElementById('detailInner').innerHTML = `<div style="padding:1rem;font-family:var(--mono);font-size:0.75rem;color:var(--red)">Could not connect to ${S.apiBase}. Error: ${err.message||'unknown'}</div>`;
    return;
  }
  render(S.result);
}

function render(data) {
  const cls = data.classification||{};
  const rm = data.roadmap||{};
  const ip = data.ip_radar||{};
  const opt = data.materials_optimization||{};
  renderRoadmap(rm);
  renderDetail(cls, rm, ip, opt);
}

function renderRoadmap(rm) {
  const tests = rm.tests||[];
  const crit = new Set(rm.critical_path||[]);
  document.getElementById('statCost').textContent = `$${fc(rm.total_cost_usd_low||0)}‚Äì${fc(rm.total_cost_usd_high||0)}`;
  document.getElementById('statWeeks').textContent = `${rm.total_weeks_low||0}‚Äì${rm.total_weeks_high||0}w`;
  const phOrd = {pre_submission:0, submission:1, post_market:2};
  const sorted = [...tests].sort((a,b)=>(phOrd[a.phase]||9)-(phOrd[b.phase]||9));
  const list = document.getElementById('nodeList');
  list.innerHTML = '';
  sorted.forEach(t => {
    const isCrit = crit.has(t.id);
    const row = document.createElement('div');
    row.className = 'node-row'; row.dataset.id = t.id;
    row.onclick = () => selectNode(t, row, rm);
    row.innerHTML = `
      <div class="node-spine">
        <div class="node-dot${isCrit?' on-crit':''}"></div>
        <div class="node-line"></div>
      </div>
      <div class="node-body">
        <div class="node-name">${t.name}</div>
        <div class="node-meta">
          <span class="node-wks">${t.estimated_weeks_low}‚Äì${t.estimated_weeks_high}w</span>
          ${t.waivable_with_existing_data ? '<span class="ntag ntag-w">waivable</span>' : ''}
          ${isCrit ? '<span class="ntag ntag-c">critical</span>' : ''}
        </div>
      </div>`;
    list.appendChild(row);
  });
}

function selectNode(test, rowEl, rm) {
  document.querySelectorAll('.node-row').forEach(r=>r.classList.remove('selected'));
  rowEl.classList.add('selected');
  const card = document.getElementById('nodeDetailCard');
  if (!card) return;
  const isCrit = (rm.critical_path||[]).includes(test.id);
  card.innerHTML = `
    <div class="nd-name">${test.name}</div>
    <div class="nd-std">${test.standard||''}</div>
    <div class="nd-desc">${test.description||''}</div>
    <div class="nd-meta">
      ${test.estimated_cost_usd_low ? `<span class="badge b-out">$${(test.estimated_cost_usd_low||0).toLocaleString()}‚Äì$${(test.estimated_cost_usd_high||0).toLocaleString()}</span>` : ''}
      <span class="badge b-out">${test.estimated_weeks_low}‚Äì${test.estimated_weeks_high} weeks</span>
      ${test.waivable_with_existing_data ? '<span class="badge b-green">Potentially waivable</span>' : ''}
      ${isCrit ? '<span class="badge b-dark">Critical path</span>' : ''}
    </div>
    ${test.notes ? `<div class="nd-note">${test.notes}</div>` : ''}
  `;
}

function renderDetail(cls, rm, ip, opt) {
  const el = document.getElementById('detailInner');
  const pw = cls.regulatory_pathway||'unknown';
  const cn = cls.confidence||0;
  const patents = ip.patents||[];
  const redCt = patents.filter(p=>p.relevance==='red').length;
  const yelCt = patents.filter(p=>p.relevance==='yellow').length;
  const rec = opt.best_recommendation;
  const hasFlag = redCt>0 && rec;
  el.innerHTML = `
    <div class="class-strip">
      <div class="class-left">
        <div class="class-center-txt">${cls.lead_center||'‚Äî'}</div>
        <div class="class-pathway">${fmtPw(pw)}</div>
        <div class="conf-row">
          <span class="conf-label">confidence</span>
          <div class="conf-track"><div class="conf-fill" style="width:${Math.round(cn*100)}%"></div></div>
          <span class="conf-pct">${Math.round(cn*100)}%</span>
        </div>
      </div>
      <div class="class-badges">
        <span class="badge b-dark">${fmtCat(cls.product_category)}</span>
        ${cls.device_class&&cls.device_class!=='unknown'?`<span class="badge b-out">${cls.device_class}</span>`:''}
        ${redCt?`<span class="badge b-red">‚¨§ ${redCt} IP risk${redCt>1?'s':''}</span>`:''}
      </div>
    </div>
    ${cls.classification_rationale?`<div class="rationale-card">${cls.classification_rationale.substring(0,300)}${cls.classification_rationale.length>300?'‚Ä¶':''}</div>`:''}
    ${hasFlag?`
    <div class="flag-card flag-crit">
      <div class="flag-icon">‚ö†Ô∏è</div>
      <div>
        <div class="flag-title">Compounded risk detected</div>
        <div class="flag-body"><strong>${rec.original_material}</strong> sits in a high-activity patent space and triggers extended biocompatibility testing. Switching to <strong>${rec.suggested_material}</strong> could reduce both simultaneously.</div>
        <div class="flag-save">Estimated savings ¬∑ $${(rec.net_cost_saved_usd_low||0).toLocaleString()}‚Äì$${(rec.net_cost_saved_usd_high||0).toLocaleString()} ¬∑ ${rec.net_weeks_saved_low||0}‚Äì${rec.net_weeks_saved_high||0} weeks</div>
      </div>
    </div>`:''}
    <div>
      <div class="sec-label">Step details</div>
      <div class="node-detail-card" id="nodeDetailCard">
        <div style="font-family:var(--mono);font-size:0.75rem;color:var(--text-3)">‚Üê Select a step on the roadmap to see details</div>
      </div>
    </div>
    ${rec?`
    <div>
      <div class="sec-label">Materials optimization</div>
      <div class="opt-card">
        <div class="opt-head"><span>üí°</span><span class="opt-title">Recommended substitution</span></div>
        <div class="opt-swap">
          <span class="mpill mp-old">${rec.original_material}</span>
          <span style="color:var(--text-3);font-size:0.8rem">‚Üí</span>
          <span class="mpill mp-new">${rec.suggested_material}</span>
        </div>
        <div class="opt-pills">
          <span class="opt-pill">$${(rec.net_cost_saved_usd_low||0).toLocaleString()}‚Äì$${(rec.net_cost_saved_usd_high||0).toLocaleString()} saved</span>
          <span class="opt-pill">${rec.net_weeks_saved_low||0}‚Äì${rec.net_weeks_saved_high||0} weeks faster</span>
          ${(rec.tests_eliminated||[]).length?`<span class="opt-pill">${rec.tests_eliminated.length} tests eliminated</span>`:''}
        </div>
        ${rec.rationale?`<div class="opt-rat">${rec.rationale.substring(0,220)}‚Ä¶</div>`:''}
      </div>
    </div>`:''}
    ${patents.length?`
    <div>
      <div class="sec-label" style="display:flex;align-items:center;gap:0.4rem">
        IP landscape
        ${redCt?`<span class="badge b-red" style="font-size:0.58rem">‚¨§ ${redCt} high</span>`:''}
        ${yelCt?`<span class="badge b-yellow" style="font-size:0.58rem">‚¨§ ${yelCt} moderate</span>`:''}
      </div>
      ${ip.summary?`<div class="ip-sum" style="margin-bottom:0.625rem">${ip.summary.substring(0,300)}‚Ä¶</div>`:''}
      <div class="patent-list">
        ${patents.slice(0,5).map(p=>`
          <div class="pat-card">
            <div class="pat-top"><div class="pdot pdot-${p.relevance}"></div><div class="pat-title">${p.title||'Unknown'}</div></div>
            <div class="pat-sub"><span>${p.patent_number||''}</span>${p.assignee?`<span>¬∑ ${p.assignee}</span>`:''}</div>
            <div class="pat-exp">${p.relevance_explanation||''}</div>
          </div>`).join('')}
      </div>
    </div>`:''}
    ${rm.data_gap_analysis?`
    <div>
      <div class="sec-label">Data gap analysis</div>
      <div class="rationale-card">${rm.data_gap_analysis}</div>
    </div>`:''}
  `;
}

function showPage(id) {
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
function goBack() { showPage('landing'); }
function wait(ms) { return new Promise(r=>setTimeout(r,ms)); }
function fc(n) {
  if (!n) return '0';
  if (n>=1000000) return `${(n/1000000).toFixed(1)}M`;
  if (n>=1000) return `${Math.round(n/1000)}K`;
  return n.toString();
}
function fmtPw(p) {
  const m={ind:'IND Pathway',bla:'BLA',k510:'510(k)',pma:'PMA',de_novo:'De Novo',
    exempt:'510(k) Exempt',combination_product:'Combination Product',unknown:'TBD'};
  return m[p?.toLowerCase()]||p||'Unknown';
}
function fmtCat(c) {
  const m={cell_gene_therapy:'Cell/Gene Therapy',medical_device:'Medical Device',
    diagnostic_ivd:'IVD Diagnostic',diagnostic_invivo:'In Vivo Diagnostic',
    combination:'Combination Product',drug:'Drug'};
  return m[c]||c||'Unknown';
}

function mockData() {
  return {
    classification:{product_category:'combination',lead_center:'CBER',device_class:'unknown',regulatory_pathway:'ind',confidence:0.92,classification_rationale:'Classified as a COMBINATION PRODUCT: cortical organoids (living neural cells) provide the primary therapeutic effect via biological integration with host tissue, combined with a biodegradable PLGA scaffold device component. Primary jurisdiction: CBER. Entry pathway: IND required before any clinical use. This is the most complex regulatory pathway ‚Äî expect extensive CMC requirements, potency assays, and a Phase I safety-first development plan.',predicate_devices:[]},
    roadmap:{
      tests:[
        {id:'RISK_ASSESSMENT',name:'Risk Assessment Documentation',phase:'pre_submission',estimated_weeks_low:4,estimated_weeks_high:10,estimated_cost_usd_low:8000,estimated_cost_usd_high:25000,waivable_with_existing_data:false,standard:'ISO 10993-1:2018 + FDA Guidance Sec 3D',description:'Mandatory gateway ‚Äî must appear at the START of every biocompatibility submission section. Must include device/material description, manufacturing process, proposed clinical use, risk identification, and testing plan.',notes:'FDA Section 3D: waiver of this document is not permitted under any circumstances.'},
        {id:'CHEM_CHAR_FULL',name:'Full Chemical Characterization',phase:'pre_submission',estimated_weeks_low:6,estimated_weeks_high:14,estimated_cost_usd_low:12000,estimated_cost_usd_high:35000,waivable_with_existing_data:false,standard:'ISO 10993-18:2020 / FDA Clause 7',description:'Full analytical chemistry in polar and nonpolar solvents. For each identified chemical: CAS number, weight %, total amount in device, and toxicological risk assessment. Required for all implant devices.',notes:'FDA Clause 7: ADME data required if concern exists at full release concentration.'},
        {id:'ISO_10993_5',name:'Cytotoxicity (ISO 10993-5)',phase:'pre_submission',estimated_weeks_low:3,estimated_weeks_high:6,estimated_cost_usd_low:3000,estimated_cost_usd_high:8000,waivable_with_existing_data:true,standard:'ISO 10993-5:2009',description:'In vitro cell viability. Novel materials require both direct contact AND elution methods.',notes:'FDA 6A: novel material = direct + elution both required.'},
        {id:'ISO_10993_10_SENS',name:'Sensitization ‚Äî GPMT + LLNA',phase:'pre_submission',estimated_weeks_low:6,estimated_weeks_high:12,estimated_cost_usd_low:6000,estimated_cost_usd_high:14000,waivable_with_existing_data:false,standard:'ISO 10993-10:2021 / FDA Sec 6B',description:'FDA Section 6B requires both GPMT and LLNA. GPMT is mandatory for novel materials ‚Äî LLNA alone is not acceptable.',notes:'FDA 6B: GPMT mandatory for novel materials.'},
        {id:'ISO_10993_3_GENO',name:'Genotoxicity Battery',phase:'pre_submission',estimated_weeks_low:8,estimated_weeks_high:16,estimated_cost_usd_low:10000,estimated_cost_usd_high:25000,waivable_with_existing_data:false,standard:'ISO 10993-3:2023 / FDA Sec 6F',description:'Three-part battery: Ames test + in vitro mammalian assay (MLA preferred) + in vivo cytogenetics for novel materials.',notes:'FDA 6F: in vivo component required for novel materials.'},
        {id:'ISO_10993_6_IMPLANT',name:'Implantation Study (ISO 10993-6)',phase:'pre_submission',estimated_weeks_low:12,estimated_weeks_high:32,estimated_cost_usd_low:25000,estimated_cost_usd_high:60000,waivable_with_existing_data:false,standard:'ISO 10993-6:2016 / FDA Sec 6E',description:'In vivo local tissue response. Absorbable materials require interim assessments at multiple time points during degradation.',notes:'FDA 6E: absorbable materials require assessments pre-degradation, during, and at steady-state.'},
        {id:'DEGRADATION_ASSESS',name:'Degradation Assessment',phase:'pre_submission',estimated_weeks_low:12,estimated_weeks_high:40,estimated_cost_usd_low:20000,estimated_cost_usd_high:60000,waivable_with_existing_data:false,standard:'ISO 10993-13/14/15 / FDA Sec 6I',description:'Required for biodegradable PLGA scaffold. FDA strongly recommends a pre-test discussion before commencing.',notes:'FDA Section 6I: schedule pre-test discussion with FDA before beginning degradation studies.'},
        {id:'CBER_CMC_PACKAGE',name:'CMC Package ‚Äî Cell/Gene Therapy',phase:'pre_submission',estimated_weeks_low:26,estimated_weeks_high:104,estimated_cost_usd_low:200000,estimated_cost_usd_high:1500000,waivable_with_existing_data:false,standard:'FDA CBER CMC Guidance / ICH Q5A‚ÄìQ5E',description:'Cell identity, potency (functional assay required), purity, sterility, mycoplasma, adventitious agents, stability, and manufacturing process characterization. Begin this immediately ‚Äî it gates all downstream CBER activities.',notes:'CBER: potency must be a functional assay.'},
        {id:'CBER_PRECLINICAL',name:'Preclinical Safety & Efficacy',phase:'pre_submission',estimated_weeks_low:52,estimated_weeks_high:156,estimated_cost_usd_low:300000,estimated_cost_usd_high:3000000,waivable_with_existing_data:false,standard:'FDA CBER Guidance / ICH S6',description:'In vitro safety + in vivo toxicology + proof-of-concept efficacy. Biodistribution required for cell therapy products.',notes:'Biodistribution required. Discuss animal model selection with CBER early.'},
        {id:'CBER_IND_PREP',name:'IND Application (CBER)',phase:'submission',estimated_weeks_low:26,estimated_weeks_high:78,estimated_cost_usd_low:150000,estimated_cost_usd_high:600000,waivable_with_existing_data:false,standard:'21 CFR Part 312',description:'Mandatory entry point before any clinical investigation. Includes full preclinical data package, CMC, and Phase I protocol.',notes:'IND is mandatory ‚Äî no clinical study may begin without it.'},
      ],
      total_cost_usd_low:850000,total_cost_usd_high:5200000,total_weeks_low:78,total_weeks_high:208,
      critical_path:['RISK_ASSESSMENT','CHEM_CHAR_FULL','CBER_CMC_PACKAGE','CBER_PRECLINICAL','CBER_IND_PREP'],
      data_gap_analysis:'Initiate the CBER CMC Package immediately ‚Äî it gates all downstream CBER activities and typically takes 6‚Äì24 months. Risk assessment must appear at the start of your biocompatibility section per FDA Section 3D. For the PLGA scaffold, schedule a pre-test discussion with FDA before beginning degradation studies (Section 6I). Genotoxicity requires all three battery components per FDA Section 6F. GPMT is mandatory for sensitization ‚Äî LLNA alone is not acceptable for novel materials.',
    },
    ip_radar:{
      patents:[
        {patent_number:'US10456789',title:'Biodegradable neural scaffold with cellular integration for CNS repair',assignee:'Massachusetts Institute of Technology',relevance:'red',is_active:true,relevance_explanation:'Strong overlap: covers biodegradable polymer scaffolds seeded with neural progenitor cells for CNS repair ‚Äî directly reads on your cortical organoid + PLGA scaffold approach.'},
        {patent_number:'US9876543',title:'Alginate encapsulation of organoids for therapeutic delivery',assignee:'Stanford University',relevance:'yellow',is_active:true,relevance_explanation:'Moderate concern: covers alginate-based encapsulation of organoid structures for therapeutic use. Your use of GMP-grade alginate falls within the broad scope.'},
        {patent_number:'US8234567',title:'PLGA scaffold for tissue engineering with controlled degradation',assignee:'Medtronic Inc.',relevance:'yellow',is_active:true,relevance_explanation:'Adjacent: broad PLGA scaffold claims in tissue engineering. May partially read on your device component.'},
        {patent_number:'US7123456',title:'Cortical neuron culture methods for transplantation',assignee:'University of California',relevance:'green',is_active:false,relevance_explanation:'Expired 2021. Related but no longer an active IP risk. Useful as prior art.'},
      ],
      summary:'The IP landscape for neural scaffold + organoid combination products is moderately crowded, with significant activity from MIT, Stanford, and Medtronic. The highest-risk area concerns the combination of biodegradable polymer matrices with living neural cells. Most critical action: commission a formal FTO analysis focused on US10456789. Directional guidance only ‚Äî not legal advice.',
    },
    materials_optimization:{
      best_recommendation:{
        original_material:'biodegradable polymer scaffold',suggested_material:'PEEK (Polyether Ether Ketone)',
        net_cost_saved_usd_low:35000,net_cost_saved_usd_high:90000,net_weeks_saved_low:4,net_weeks_saved_high:12,
        tests_eliminated:[{name:'Degradation Assessment'},{name:'Full Chemical Characterization'}],
        rationale:'Switching to medical-grade PEEK for the device component leverages extensive published biocompatibility data, eliminating the degradation assessment and reducing chemical characterization scope. PEEK has cleared numerous spinal and neural device 510(k)s and moves you out of the high-activity biodegradable scaffold patent space. Caveat: PEEK is permanent ‚Äî only viable if a non-degrading scaffold is clinically acceptable.',
        predicate_impact:null,
      },
    },
  };
}
</script>
</body>
</html>
